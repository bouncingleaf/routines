/'
  Sequence.txt, Jessica Roy

  Useful links:
  https://www.lucidchart.com/pages/uml/uml-sequence-markup
  https://lucidchart.zendesk.com/hc/en-us/articles/208029986

  This is the text used for generating the basic Sequence diagram on LucidChart.
'/

activate RoutinesApp
RoutinesApp->RoutinesApp:getValidUserName()
alt not found in USERS file
  RoutinesApp->User: create new user
  activate User
  User->Storage:save()
else found in USERS file
  RoutinesApp->Storage: User.load()
  Storage-->User: user data
end
loop main
    RoutinesApp->User:listRoutines()
  alt choice 1 Add Routine
    RoutinesApp->User:addRoutine()
    User->Routine:new
    activate Routine
    loop addTasksToRoutine
      Routine->Task:new
      activate Task
    end
    User->Storage:save()
  else choice 2 Manage Routines
    RoutinesApp->User:selectRoutine()
    User-->Selection:selectItem()
    activate Selection
    Selection->User:index of Routine
    deactivate Selection
    User->RoutinesApp:routineToEdit
    RoutinesApp->Routine:routineToEdit.edit()
    alt choice 1 Change Routine Name
      Routine->Routine:changeRoutineName()
    else choice 2 Add Tasks
      loop addTasksToRoutine
         Routine->Task:new
      end
    else choice 3 Edit Tasks
      RoutinesApp-->Routine:editModifyTask()
      Routine->Routine:selectTask()
      Routine-->Selection:selectItem()
      activate Selection
      Selection->Routine: index of Task
      deactivate Selection
    else choice 4 Delete Tasks
      RoutinesApp->Routine:editDeleteTask()
      Routine->Routine:selectTask()
      Routine-->Selection:selectItem()
      activate Selection
      Selection->Routine: index of Task
      deactivate Selection
    end
    User->Storage:save()
  else choice 3 Run Routine
    RoutinesApp->User:selectRoutine()
    User-->Selection:selectItem()
    activate Selection
    Selection->User:index of Routine
    deactivate Selection
    User-->RoutinesApp:routineToRun
    RoutinesApp->Routine:routineToRun.run()
    Routine-->RoutinesApp:tasks
  end
end